<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Movie poll results for Mewling Goat Tavern">
    <title>Movie Poll Results - Mewling Goat Tavern</title>
    <link rel="icon" sizes="16x16" href="./img/favicon-16x16.png">
    <link rel="icon" sizes="32x32" href="./img/favicon-32x32.png">
    <link rel="icon" sizes="192x192" href="./img/android-chrome-192x192.png">
    <link rel="icon" sizes="512x512" href="./img/android-chrome-512x512.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./img/apple-touch-icon.png">
    <link rel="manifest" href="./site.webmanifest">
    <link rel="preload" href="./css/style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="./css/style.css"></noscript>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body class="bg-gradient-to-br from-goat-900 via-goat-800 to-goat-900 min-h-screen flex items-center justify-center p-4">
    <div class="container mx-auto">
        <!-- Main Content Area -->
        <div id="main-content" class="w-full">
            <div class="bg-goat-800 max-w-6xl p-6 relative rounded-xl shadow-xl w-full">
                <div class="flex items-center justify-between mb-6">
                    <h1 class="text-3xl font-bold text-tavern-500">Movie Poll Results</h1>
                    <div class="flex items-center space-x-4">
                        <button class="btn-secondary" 
                                hx-get="/" 
                                hx-target="#main-content" 
                                hx-swap="innerHTML">Back to Poll</button>
                        <button class="btn-secondary" 
                                hx-get="/results" 
                                hx-target="#main-content" 
                                hx-swap="innerHTML">Refresh Results</button>
                        <a href="/test" class="btn-secondary">Test API</a>
                        <a href="/admin" class="btn-secondary">Admin Panel</a>
                    </div>
                </div>
                
                <!-- Results Summary -->
                <div class="mb-6 grid grid-cols-1 gap-4 md:grid-cols-3" 
                     hx-get="/api/results-summary" 
                     hx-trigger="load" 
                     hx-target="this" 
                     hx-swap="innerHTML">
                    <div class="text-center text-goat-400">
                        <div class="loading-spinner inline-block mb-2"></div>
                        <p>Loading summary...</p>
                    </div>
                </div>
                
                <!-- Results List -->
                <div class="space-y-4" 
                     hx-get="/api/results-list" 
                     hx-trigger="load" 
                     hx-target="this" 
                     hx-swap="innerHTML">
                    <div class="text-center text-goat-400">
                        <div class="loading-spinner inline-block mb-4"></div>
                        <p>Loading results...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="./js/app.js"></script>
</body>
</html>
